formula = r"""
class GitCola < Formula
  desc "Highly caffeinated git GUI"
  homepage "https://git-cola.github.io/"
  url "https://github.com/git-cola/git-cola/archive/v3.9.tar.gz"
  sha256 "66b62f479ad141322351d62aff76e4882719d08f8f29b35f97d30f355391a54e"
  license "GPL-2.0-or-later"
  revision 1
  head "https://github.com/git-cola/git-cola.git"

  bottle do
    sha256 cellar: :any_skip_relocation, arm64_big_sur: "b9a2de2f11aa72f0c4010a89c0118974cca4aed743bd8809cac81d6839a35bb2"
    sha256 cellar: :any_skip_relocation, big_sur:       "54c0806c423ffadb4bf4e017d8e7b657f0636fd16055e174bdf98881ccbb0ed0"
    sha256 cellar: :any_skip_relocation, catalina:      "8ba8892158a9e2ceef9f278b4c7a789a2ee26bfffce97c56863d287a5b56d071"
    sha256 cellar: :any_skip_relocation, mojave:        "ad020b9751ad02ff662b94c1df5bb18a496ec77c46957d6ec200633b45bf2959"
    sha256 cellar: :any_skip_relocation, x86_64_linux:  "24b91e748522ea9e2d47156666a9b2d68f8d3c5aa46735026700cf1b8f49b617"
  end

  depends_on "sphinx-doc" => :build
  depends_on "pyqt@5"
  depends_on "python@3.9"

  uses_from_macos "rsync"

  def install
    ENV.delete("PYTHONPATH")
    system "make", "PYTHON=#{Formula["python@3.9"].opt_bin}/python3", "prefix=#{prefix}", "install"
    system "make", "install-doc", "PYTHON=#{Formula["python@3.9"].opt_bin}/python3}", "prefix=#{prefix}",
           "SPHINXBUILD=#{Formula["sphinx-doc"].opt_bin}/sphinx-build"
  end

  test do
    system "#{bin}/git-cola", "--version"
  end
end

"""

import "homebrew-install" as hi

import "berkeley-db" as i0, "bison" as i1, "bzip2" as i2, "cmake" as i3, "expat" as i4, "flex" as i5, "gdbm" as i6, "gettext" as i7, "gperf" as i8, "help2man" as i9, "libffi" as i10, "libxml2" as i11, "lz4" as i12, "m4" as i13, "mpdecimal" as i14, "ncurses" as i15, "openssl@1.1" as i16, "perl" as i17, "pkg-config" as i18, "popt" as i19, "pyqt-builder" as i20, "pyqt@5" as i21, "python@3.9" as i22, "qt@5" as i23, "readline" as i24, "rsync" as i25, "sip" as i26, "sphinx-doc" as i27, "sqlite" as i28, "unzip" as i29, "xxhash" as i30, "xz" as i31, "zip" as i32, "zlib" as i33, "zstd" as i34

pkg(
  name: "git-cola",
  version: "3.9",
  dependencies: [hi, i0, i1, i2, i3, i4, i5, i6, i7, i8, i9, i10, i11, i12, i13, i14, i15, i16, i17, i18, i19, i20, i21, i22, i23, i24, i25, i26, i27, i28, i29, i30, i31, i32, i33, i34],

  def install(ctx) {
    ctx.write_file(join(ctx.build, "git-cola.rb"), formula)
    ctx.system("homebrew-install", ctx.prefix, ctx.state_dir, "./git-cola.rb")
  }
)
