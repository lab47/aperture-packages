formula = r"""
class Fobis < Formula
  include Language::Python::Virtualenv

  desc "KISS build tool for automatically building modern Fortran projects"
  homepage "https://github.com/szaghi/FoBiS"
  url "https://files.pythonhosted.org/packages/53/3a/5533ab0277977027478b4c1285bb20b6beb221b222403b10398fb24e81a2/FoBiS.py-3.0.5.tar.gz"
  sha256 "ef23fde4199277abc693d539a81e0728571c349174da6b7476579f82482ab96c"
  license "GPL-3.0-or-later"
  revision 1

  bottle do
    sha256 cellar: :any_skip_relocation, arm64_big_sur: "bfa1e5a5e7276be1292321294c418e9f1bac7a964f46d227a2d81fc3ad1b984e"
    sha256 cellar: :any_skip_relocation, big_sur:       "627133905b51d5436b9eb6a8e75080d847a6ea7c36886aa7f81e053fd89970d3"
    sha256 cellar: :any_skip_relocation, catalina:      "0a1685a770c843092bdcd918de2439bc9ed16e75b49e61e93148386b42d326d1"
    sha256 cellar: :any_skip_relocation, mojave:        "6b517fdd37dbbdfce2e3ca628afd4f92ef688c18939e78c2b0487dbc1ac7da5e"
    sha256 cellar: :any_skip_relocation, high_sierra:   "81a5206bdd09bf9b630a9ef4793015283891d88b1790dc8638e759679d892522"
  end

  depends_on "gcc" # for gfortran
  depends_on "graphviz"
  depends_on "python@3.9"

  resource "configparser" do
    url "https://files.pythonhosted.org/packages/e5/7c/d4ccbcde76b4eea8cbd73b67b88c72578e8b4944d1270021596e80b13deb/configparser-5.0.0.tar.gz"
    sha256 "2ca44140ee259b5e3d8aaf47c79c36a7ab0d5e94d70bd4105c03ede7a20ea5a1"
  end

  resource "FoBiS.py" do
    url "https://files.pythonhosted.org/packages/53/3a/5533ab0277977027478b4c1285bb20b6beb221b222403b10398fb24e81a2/FoBiS.py-3.0.5.tar.gz"
    sha256 "ef23fde4199277abc693d539a81e0728571c349174da6b7476579f82482ab96c"
  end

  resource "future" do
    url "https://files.pythonhosted.org/packages/45/0b/38b06fd9b92dc2b68d58b75f900e97884c45bedd2ff83203d933cf5851c9/future-0.18.2.tar.gz"
    sha256 "b1bead90b70cf6ec3f0710ae53a525360fa360d306a86583adc6bf83a4db537d"
  end

  def install
    virtualenv_install_with_resources
    bin.install libexec/"bin/FoBiS.py"
  end

  test do
    (testpath/"test-mod.f90").write <<~EOS
      module fobis_test_m
        implicit none
        character(*), parameter :: message = "Hello FoBiS"
      end module
    EOS
    (testpath/"test-prog.f90").write <<~EOS
      program fobis_test
        use iso_fortran_env, only: stdout => output_unit
        use fobis_test_m, only: message
        implicit none
        write(stdout,'(A)') message
      end program
    EOS
    system "#{bin}/FoBiS.py", "build", "-compiler", "gnu"
    assert_match "Hello FoBiS", shell_output(testpath/"test-prog")
  end
end

"""

import "homebrew-install" as hi

import "apr" as i0, "apr-util" as i1, "autoconf" as i2, "automake" as i3, "berkeley-db" as i4, "bison" as i5, "brotli" as i6, "bzip2" as i7, "c-ares" as i8, "cairo" as i9, "cmake" as i10, "curl" as i11, "expat" as i12, "flex" as i13, "fontconfig" as i14, "freetype" as i15, "fribidi" as i16, "gcc" as i17, "gd" as i18, "gdbm" as i19, "gdk-pixbuf" as i20, "gettext" as i21, "glib" as i22, "gmp" as i23, "gobject-introspection" as i24, "gperf" as i25, "graphite2" as i26, "graphviz" as i27, "gts" as i28, "harfbuzz" as i29, "help2man" as i30, "icu4c" as i31, "isl" as i32, "jasper" as i33, "jemalloc" as i34, "jpeg" as i35, "krb5" as i36, "libev" as i37, "libffi" as i38, "libidn2" as i39, "libmetalink" as i40, "libmpc" as i41, "libpng" as i42, "libpthread-stubs" as i43, "librsvg" as i44, "libssh2" as i45, "libtiff" as i46, "libtool" as i47, "libunistring" as i48, "libx11" as i49, "libxau" as i50, "libxcb" as i51, "libxdmcp" as i52, "libxext" as i53, "libxml2" as i54, "libxrender" as i55, "libyaml" as i56, "lz4" as i57, "lzo" as i58, "m4" as i59, "meson" as i60, "mpdecimal" as i61, "mpfr" as i62, "ncurses" as i63, "netpbm" as i64, "nghttp2" as i65, "ninja" as i66, "openjdk" as i67, "openldap" as i68, "openssl@1.1" as i69, "pango" as i70, "pcre" as i71, "perl" as i72, "pixman" as i73, "pkg-config" as i74, "python@3.9" as i75, "readline" as i76, "rtmpdump" as i77, "ruby" as i78, "rust" as i79, "scons" as i80, "sphinx-doc" as i81, "sqlite" as i82, "subversion" as i83, "swig" as i84, "unzip" as i85, "utf8proc" as i86, "util-macros" as i87, "webp" as i88, "xcb-proto" as i89, "xorgproto" as i90, "xtrans" as i91, "xz" as i92, "zip" as i93, "zlib" as i94, "zstd" as i95

pkg(
  name: "fobis",
  version: "3.0.5",
  dependencies: [hi, i0, i1, i2, i3, i4, i5, i6, i7, i8, i9, i10, i11, i12, i13, i14, i15, i16, i17, i18, i19, i20, i21, i22, i23, i24, i25, i26, i27, i28, i29, i30, i31, i32, i33, i34, i35, i36, i37, i38, i39, i40, i41, i42, i43, i44, i45, i46, i47, i48, i49, i50, i51, i52, i53, i54, i55, i56, i57, i58, i59, i60, i61, i62, i63, i64, i65, i66, i67, i68, i69, i70, i71, i72, i73, i74, i75, i76, i77, i78, i79, i80, i81, i82, i83, i84, i85, i86, i87, i88, i89, i90, i91, i92, i93, i94, i95],

  def install(ctx) {
    ctx.write_file(join(ctx.build, "fobis.rb"), formula)
    ctx.system("homebrew-install", ctx.prefix, ctx.state_dir, "./fobis.rb")
  }
)
