import lua

pkg(
  name: "luarocks"
  version: "3.3.1"
  input: file(
    path: "https://luarocks.org/releases/luarocks-3.3.1.tar.gz",
    sum: ("sha256", "eb20cd9814df05535d9aae98da532217c590fc07d48d90ca237e2a7cdcf284fe"),
  )
  dependencies: [lua]

  def install(ctx) {
    ctx.system("./configure",
                  "--prefix="+ctx.prefix,
                  "--sysconfdir="+ctx.prefix+"/etc")
    ctx.system("make", "install")
  }
)
